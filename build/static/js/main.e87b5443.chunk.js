(this["webpackJsonpreact-file-upload"]=this["webpackJsonpreact-file-upload"]||[]).push([[0],{18:function(e,t,a){e.exports=a(43)},23:function(e,t,a){},24:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(14),r=a.n(s),o=(a(23),a(24),a(25),a(3)),i=a(4),c=a(2),u=a(16),d=a(17),m=a(15),p=a.n(m).a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),f=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),p.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),h=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).selectFile=n.selectFile.bind(Object(c.a)(n)),n.upload=n.upload.bind(Object(c.a)(n)),n.state={selectedFiles:void 0,currentFile:void 0,progress:0,message:"",fileInfos:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files})}},{key:"upload",value:function(){var e=this,t=this.state.selectedFiles[0];this.setState({progress:0,currentFile:t}),f.upload(t,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){return e.setState({message:t.data.message}),f.getFiles()})).then((function(t){e.setState({fileInfos:t.data})})).catch((function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0})})),this.setState({selectedFiles:void 0})}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=e.currentFile,n=e.progress,s=e.message,r=e.fileInfos;return l.a.createElement("div",null,a&&l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"}},n,"%")),l.a.createElement("label",{className:"btn btn-default"},l.a.createElement("input",{type:"file",onChange:this.selectFile})),l.a.createElement("button",{className:"btn btn-success",disabled:!t,onClick:this.upload},"Upload"),l.a.createElement("div",{className:"alert alert-light",role:"alert"},s),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"List of Files"),l.a.createElement("ul",{className:"list-group list-group-flush"},r&&r.map((function(e,t){return l.a.createElement("li",{className:"list-group-item",key:t},l.a.createElement("a",{href:e.url},e.name))})))))}}]),a}(n.Component);var v=function(){return l.a.createElement("div",{className:"container",style:{width:"600px"}},l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement("h3",null,"bezkoder.com"),l.a.createElement("h4",null,"React upload Files")),l.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.e87b5443.chunk.js.map